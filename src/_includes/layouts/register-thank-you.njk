{% extends 'layouts/base.njk' %}

{% block header %}
    {% include 'components/header.njk' %}
{% endblock %}

{% block content %}
    <main id="content">
        <div class="mx-auto max-w-content p-base">
            <h1 class="font-serif text-4xl font-bold leading-none md:text-5xl text-header mb-base">{{title}}</h1>
            <section>
                {# Loading spinner #}
                <div x-cloak x-show="$store.auth.isAuth && !$store.auth.isRegistered" 
                x-init="$store.auth.checkRegistration()"
                class="flex items-center justify-center gap-sm animate-pulse py-md">
                    <div class="w-8 h-8 rounded-full bg-body"></div>
                    <div class="w-8 h-8 rounded-full bg-body"></div>
                    <div class="w-8 h-8 rounded-full bg-body"></div>
                </div>
                {# Registration info #}
                <div x-cloak x-show="$store.auth.isAuth && $store.auth.isRegistered === 'yes'" class="prose">
                    <h2>You are registered!</h2>
                    <p>
                        You, <strong>
                            <span x-text="$store.auth.user.displayName"></span> (<span x-text="$store.auth.user.userNicename"></span>)</strong>, are registered for Big Bad Online 2021. You can prepare for the event by join the special event Discord using the invite link below and following us on Twitch.
                    </p>
                    {# <p>
                        <strong>Join</strong> the <a :href="'https://discord.gg/' + $store.auth.bboDiscordInvite">Big Bad Online 2022 Discord</a>!
                    </p> #}
                    <p>We will post the event Discord invite link here once it gets closer to the date.</p>
                    <p>
                        <strong>Follow</strong> the <a href="https://twitch.tv/bigbadcon">Big Bad Con Twitch Channel</a>!</em>
                </p>
            </div>
        </section>
        <div class="prose">{{ content | safe }}</div>
    </div>
</main>
{% endblock %}