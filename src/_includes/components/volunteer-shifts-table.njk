<section class="mt-md" x-data="{favsOnly: false}">
    <h2 class="font-serif text-3xl font-bold leading-none md:text-4xl text-header mb-base">Volunteer Shift List</h2>
    <div x-cloak class="flex items-center justify-start border-t-2 border-b-2 my-base text-body gap-sm py-sm border-hr" x-show="$store.auth.isAuth">
        <span class="font-bold">Filter:</span><span>{% icon 'star', 'fill-body' %}</span>
        <button @click="favsOnly = !favsOnly" x-text="(favsOnly) ? 'Show All' : 'Show Favs Only'" class="button-sm"></button>
    </div>
    <table class="w-full text-sm text-body">
        <thead>
            <tr>
                <th class="text-left pb-sm">Event Name</th>
                <th class="text-center pb-sm">Date</th>
                <th class="text-center pb-sm">Time PDT</th>
                <th class="w-8 text-center pb-sm" x-cloak x-show="$store.auth.isAuth">
                    <span class="flex items-center justify-end">{% icon 'square-check', 'fill-body' %}</span>
                </th>
                <th class="w-8 text-center pb-sm" x-cloak x-show="$store.auth.isAuth">
                    <span class="flex items-center justify-end">{% icon 'star', 'fill-body' %}</span>
                </th>
            </tr>
        </thead>
        <tbody>
            {% for event in eventData.volunteer %}
                <tr x-show="!favsOnly || $store.auth.isFav({{event.eventId}})">
                    {# Event Name #}
                    <td class="py-sm pr-sm">
                        <a href="/volunteer/{{event.eventSlug}}" class="font-bold transition-colors text-header hover:text-highlight">{{event.eventName | safe }}</a>
                    </td>
                    {# Event Day #}
                    <td class="w-24 text-center py-sm">{{ event.eventStartDate }}</td>
                    {# Event Time #}
                    <td class="w-24 text-center py-sm">{{ event.eventStartTime | stripSeconds }} &ndash; {{ event.eventEndTime | stripSeconds }}</td>
                    {# Booked Event Icon #}
                    <td x-cloak x-show="$store.auth.isAuth">
                        <span x-show="$store.auth.isBooked({{event.eventId}})" class="flex justify-end">{% icon 'square-check' %}</span>
                    </td>
                    {# Fav Event Icon #}
                    <td x-cloak x-show="$store.auth.isAuth">
                        <span @click="$store.auth.toggleFav({{event.eventId}})" class="flex justify-end cursor-pointer opacity-40 hover:opacity-100" :class="$store.auth.isFav({{event.eventId}}) && 'favved'">{% icon 'star', 'fill-body' %}</span>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</section>