<div class="header-wrapper w-full" id="header-wrapper" style="right: 0; left: 0; z-index: 1030; display: table; color: #fff;">
  <header role="banner" class="w-full flex flex-col" x-data="{ open: false }">

  {# Logo and buy tickets banner #}
  <div id="marketing-header-wrapper" class="w-full bg-header-background">
    <div id="marketing-header-flexbox" class="mx-auto w-full max-w-hero pb-2 md:pb-5 flex px-12 pt-5 pb-3" style="">
      {# Website logo #}
      <div class="flex-none mx-auto" style="">
        <a href="/" class="block">{% include 'components/logo.njk' %}</a>
      </div>
      {# Event dates #}
      <div class="hidden md:block px-8 text-xs flex-grow overflow-x-auto" style="">
        <div class="float-right">
          <p class="mb-1"><img src="" />{{sitemeta.eventDate}} â€¢ {{sitemeta.eventLocation}}</a></p>
        </div>
      </div>
      {# Buy tickets button #}
      <div class="hidden md:{{"block" if sitemeta.eventStatus !== "OFF-SEASON" else "hidden"}} text-sm flex-none" style="">
        <button @click="window.location.href='/register';" class="top-0 font-bold uppercase transition-all transform border rounded cursor-pointer text-form right-base bg-highlight px-base pb-xs pt-xs hover:bg-menu-hover border-highlight hover:border-menu-hover whitespace-nowrap border-8 border-color-black " >Buy Tickets!</button>
      </div>
      {# Mobile menu button #}
      <div id="mobile-menu-button-containerx" class="flex flex-row justify-center flex-wrap items-center py-base gap-base md:gap-lg">
        <button class="flex flex-row items-center rounded-lg md:hidden focus:outline-none focus:shadow-outline uppercase hover:bg-nav-background" @click="open = !open" :aria-expanded="open" aria-haspopup="true" id="mobile-menu">
          <span x-show="!open" class="sr-only">Menu</span>
          <svg fill="currentColor" viewBox="0 0 20 20" class="w-8 h-8">
            <path x-show="!open" fill-rule="evenodd"
              d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z"
              clip-rule="evenodd"></path>
            <path x-show="open" fill-rule="evenodd"
              d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
              clip-rule="evenodd"></path>
          </svg>
        </button>
      </div>

    </div>
  </div>

  {# Navigation #}
  <div id="navigation-wrapper" class="w-full border-b-4 border-nav-background md:border-b-0 md:bg-nav-background">
    {# Main Nav #}
    <nav id="nav-elements-container" :class="{'flex': open, 'hidden': !open}" class="relative w-full flex flex-col md:flex md:flex-row md:justify-end md:mr-0 md:pr-16" aria-labelledby="mobile-menu">
      {# Nav for loop using navigation.json #}
      {% for item in navigation %}
      {% if item.subnav %}
        {# Primary Button with subnav #}
        <div @click.away="open = false" @keydown.window.escape="open = false" class="relative" x-data="{ open: false }">
          <button @click="open = !open"
            class="relative w-full flex flex-row justify-center items-center h-16 bg-nav-background hover:bg-menu-hover focus:bg-menu-hover md:w-auto md:inline md:t-0 md:h-10 md:px-4 md:mx-0"
            aria-haspopup="true"
            :aria-expanded="open"
            id="{{ item.id }}">
            <span class="">{{ item.title }}</span>
            {# subnav down angle caret svg #}
            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="angle-down" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"
              :class="{'rotate-180': open, 'rotate-0': !open}"
              class="w-4 h-4 mt-1 transition-transform duration-200 transform ml-xs lg:ml-0 md:hidden lg:inline md:mt-[-0.1rem]" style="color: #568137;">
              <path fill="#fff" d="M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"></path>
            </svg>
          </button>
          {# Sub Nav Panel #}
          <div x-cloak x-show="open"
            x-transition:enter-start="transform opacity-0 scale-95"
            x-transition:enter-end="transform opacity-100 scale-100"
            x-transition:leave="transition ease-in duration-75"
            x-transition:leave-start="transform opacity-100 scale-100"
            x-transition:leave-end="transform opacity-0 scale-95"
            class="relative flex flex-col md:z-20 right-0 z-20 md:mt-0 origin-top-right md:w-80 md:absolute"
            aria-labelledby="{{ item.id }}">
            {% for link in item.subnav %}
<!--            <a href="{{link.url}}" class="icon-{{link.icon}}">{{link.title}}</a>-->
                <a href="{{link.url}}" class="mx-auto w-full h-16 bg-submenu-background hover:bg-menu-hover flex justify-center items-center md:justify-start md:px-base md:h-10">
                  {{link.title}}
                </a>
            {% endfor %}
          </div>
        </div>
        {% else %}

        {# Primany Link without subpanel #}
        <div class="relative mx-auto w-full md:w-auto md:inline md:mx-0">
          <a href="{{item.url}}" class="mx-auto w-full h-16 bg-nav-background hover:bg-menu-hover flex justify-center items-center md:w-auto md:mx-base md:h-10 md:py-5 md:px-4 md:mx-0">
            {{item.title}}
          </a>
        </div>
      {% endif %}
      {% endfor %}

      {# Login / Account Button #}
      <a @click.stop="modal = 'login'" class="mx-auto w-full h-16 bg-nav-background hover:bg-menu-hover flex justify-center items-center md:w-auto md:mx-4 md:h-10 md:py-5 md:px-4" x-text="(authToken) ? 'My Account' : 'Login'">
        <span class="">Login</span>
      </a>
    </nav>
  </div>

  </header>
</div>

{# Script for creating sticky header #}
<!-- script>
window.onscroll = function() {myFunction()};

var header = document.getElementById("header-wrapper");
var sticky = header.offsetTop;

function myFunction() {
  if (window.pageYOffset > sticky) {
    header.classList.add("sticky");
  } else {
    header.classList.remove("sticky");
  }
}
</script -->